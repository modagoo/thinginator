%fieldset{class: "property"}
  .field
    = f.label :name
    = f.text_field :name, check_for_data(@collection, f.object)

  .field
    = f.label :help
    = f.text_area :help

  .field
    = f.label :data_type_id
    = f.collection_select :data_type_id, DataType.all, :id, :friendly_name, {prompt: true}, check_for_data(@collection, f.object)

  .field
    = f.label :hide
    = f.check_box :hide

  = f.fields_for :validations do |builder|
    = render 'validation_fields', f: builder

  = link_to_add_fields "Add validation", f, :validations, 'btn btn-small'

  = link_to_remove_fields "remove", f, 'btn btn-small btn-danger prime-action property-warning'
